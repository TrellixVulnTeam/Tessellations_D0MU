import { mag } from '@thi.ng/vectors/mag';
import { normalize } from '@thi.ng/vectors/normalize';
import { sub } from '@thi.ng/vectors/sub';
import { intersectRayPolylineAll } from './ray-poly.js';
import '@thi.ng/geom-api/isec';
import '@thi.ng/vectors/maddn';
import '../../common/api-94e0c15c.js';
import '@thi.ng/math/eqdelta';

const intersectLinePolylineAll = (a, b, pts, closed = false) => {
    const dir = sub([], b, a);
    const maxD = mag(dir);
    return intersectRayPolylineAll(a, normalize(null, dir), pts, closed, 0, maxD);
};

export { intersectLinePolylineAll };
