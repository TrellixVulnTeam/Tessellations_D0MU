import { cross3 } from './cross.js';
import { normalize } from './normalize.js';
import { sub3 } from './sub.js';
import './setc.js';
import '@thi.ng/math/api';
import './mag.js';
import './magsq.js';
import './compile/emit.js';
import '@thi.ng/transducers/comp';
import '@thi.ng/transducers/map';
import '@thi.ng/transducers/map-indexed';
import '@thi.ng/transducers/range';
import '@thi.ng/transducers/str';
import '@thi.ng/transducers/take';
import '@thi.ng/transducers/transduce';
import '@thi.ng/transducers/zip';
import './vop.js';
import '@thi.ng/errors/unsupported';
import './compile/templates.js';
import './muln.js';
import './set.js';

/**
 * Produces a vector which is perpendicular/normal to the plane spanned
 * by given 3 input vectors. If `normalize` is true (default), the
 * result vector will be normalized.
 *
 * @example
 * ```ts
 * orthoNormal3([], [0, 0, 0], [1, 0, 0], [0, 1, 0])
 * // [0, 0, 1]
 * ```
 *
 * @param out -
 * @param a -
 * @param b -
 * @param c -
 * @param normalize -
 */
const orthoNormal3 = (out, a, b, c, doNormalize = true) => {
    out = cross3(null, sub3(out || a, b, a), sub3([], c, a));
    return doNormalize ? normalize(out, out) : out;
};

export { orthoNormal3 };
